------------------------------------------------------------------------ 作者：lewis-- 日期：2013-3-31-- 描述：结点开门----------------------------------------------------------------------NodeOpenDoor = class(NodeTapGird)--构造function NodeOpenDoor:ctor()end--计算环境变量function NodeOpenDoor:calcEnvir()	AIMgr.setEnvir("is_door_open", true)end--计算权值function NodeOpenDoor:calc()	--开门优先	if AIMgr.getConfig("open_door_first") then		self.mEvaluation = 800		return	end		--冷却的技能个数,在有可点击格子,并没有额外伤害的条件下,让技能冷却	self.mEvaluation = math.random(10, 15)	if AIMgr.getEnvir("skill_on_cd") > 0 then		if AIMgr.getEnvir("initiative_attack") <= 0 then			if AIMgr.getEnvir("enable_tap_gird") then				print("safe to open grid")				return			end		end	end		--有血瓶未拾取	if AIMgr.getEnvir("blood_bottle_cnt") > 0 then		return	end	self.mEvaluation = 800end		