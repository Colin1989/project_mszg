------------------------------------------------------------------------ 作者：lewis-- 日期：2013-3-31-- 描述：结点使用技能----------------------------------------------------------------------NodeUseSkill = class(AINode)--构造function NodeUseSkill:ctor()	self.mIdx 		= 0			--第几个技能	self.mSkillId	= 0			--技能id	self.mGridId 	= 0			--锁定的格子id	self.mbSelf		= true		--是否是自身技能end	function NodeUseSkill:init(idx, skillId, gridId, bSelf)	self.mIdx		= idx	self.mSkillId	= skillId	self.mGridId	= gridId	self.mbSelf		= bSelfend--执行function NodeUseSkill:excute()	--自身技能	if self.mbSelf then		local player = RoleMgr.getConfig("rmc_player_object")		local skill = player.mData.mSkill		local ret = skill:selectSkill(self.mSkillId, true)		if ret == "auto" then			local level = skill:getLevel(self.mSkillId)			BattleMgr.autoSkill(player, self.mSkillId, level)			return		end			else		local id = self.mSkillId		local skill = AssistanceViewController.getConfig("data_skill")		local ret = skill:selectSkill(id, true)		if ret == "auto" then			local level = skill:getLevel(id)			local friend = RoleMgr.getConfig("rmc_friend_object")			BattleMgr.autoSkill(friend, id, level)			return		end	end    -- 技能是指向性	if self.mGridId ~= 0 then		GridMgr.onTap(self.mGridId)	endend		