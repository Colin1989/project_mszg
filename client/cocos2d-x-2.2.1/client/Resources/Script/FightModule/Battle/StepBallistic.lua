------------------------------------------------------------------------ 作者：lewis-- 日期：2013-4-4-- 描述：普通攻击弹道----------------------------------------------------------------------StepBallistic = class(BattleStep)--构造function StepBallistic:ctor()	self.mEffect	= nil	self.mName		= "ballistic"end--初始化function StepBallistic:init(fromPos, destPos, flyId, frontId, backId)	self.mEffect	= EffectBallistic.new()	self.mEffect:init(fromPos, destPos, flyId, frontId, backId)	self.mDuration = self.mEffect:duration()end--执行对应的操作function StepBallistic:excute()	self.mEffect:play()end---------------------------------------------------------开格子飞行弹道StepBallisticOpenGrid = class(BattleStep)function StepBallisticOpenGrid:ctor()    self.mIdx = -1end--初始化function StepBallisticOpenGrid:init(fromPos, flyId, frontId, backId)        local idtb = getGirdOpenable()    if #idtb <= 0 then         return -1    end     self.mIdx = idtb[math.random(1, #idtb)]    local grid = GridMgr.getGridByIdx(self.mIdx)	self.mEffect	= EffectBallistic.new()	self.mEffect:init(fromPos, grid:getMiddlePos(), flyId, frontId, backId)	self.mDuration = self.mEffect:duration()    return self.mIdxendfunction StepBallisticOpenGrid:excute()    if self.mIdx > 0 then 	    self.mEffect:play()     endend