------------------------------------------------------------------------ 作者：lewis-- 日期：2013-4-4-- 描述：角色行为信息----------------------------------------------------------------------BehaviorInfo = class()local mBattleInfo = {}mBattleInfo["dodge"]			= "fight_effect_dodge.png"	--闪避mBattleInfo["hidden"]			= "fm_hidden.png"			--隐身mBattleInfo["break_hidden"]		= "fm_break_hidden.png"		--破隐一击mBattleInfo["frantic"]			= "fm_frantic.png"			--狂化mBattleInfo["respawn"]			= "fm_respawn.png"			--重生mBattleInfo["steal_coin"]		= "fm_steal_coin.png"		--偷钱mBattleInfo["baneling"]			= "fm_baneling.png"			--自爆mBattleInfo["summon"]			= "fm_summon.png"			--召唤mBattleInfo["weak_halo"]		= "fm_weak_halo.png"		--虚弱光环mBattleInfo["rebound"]			= "fm_rebound.png"			--反弹伤害mBattleInfo["human_shield"]		= "fm_human_shield.png"		--肉盾mBattleInfo["magic_immunity"]	= "fm_magic_immunity.png"	--魔免mBattleInfo["separateBody"]	    = "fm_separateBody.png"	    --分身mBattleInfo["devour"]	        = "fm_devour.png"	        --吞噬mBattleInfo["prefect_defensive"] = "prefect_defensive.png"  --完美防御mBattleInfo["fm_chunge"] = "fm_chunge.png"                  --濒死体验mBattleInfo["absorption"] = "absorption.png"                --吸收伤害mBattleInfo["jianmianshanghai"] = "jianmianshanghai.png"                --伤害减免--构造function BehaviorInfo:ctor()	self.mType		= "notdefine"		--信息类别	self.mPosition	= ccp(360, 540)		--特效显示位置end--初始化function BehaviorInfo:init(name, pos)	self.mType		= name	self.mPosition	= posend--移除自身local function removeSelf(sender)	sender:removeFromParentAndCleanup(true)end--显示字function BehaviorInfo:play()	local filename = mBattleInfo[self.mType]	if filename == nil then		return	end	local layer = BattleMgr.getConfig("bmc_damage_layer")	local sprite = CCSprite:create(filename)	layer:addChild(sprite, 100)	sprite:setPosition(self.mPosition)	sprite:setScale(0.8)	self:playAction(sprite)end--战斗信息 actionfunction BehaviorInfo:playAction(sprite)	local arr = CCArray:create()	local scale = sprite:getScale()	sprite:setScale(0)    arr:addObject(CCSpawn:createWithTwoActions(CCScaleTo:create(0.15, 2.4 * scale), CCFadeIn:create(0.15)))	arr:addObject(CCScaleTo:create(0.1, scale))	arr:addObject(CCDelayTime:create(1.2))	arr:addObject(CCSpawn:createWithTwoActions(CCMoveBy:create(0.2, ccp(0, 50)), CCFadeOut:create(0.2)))	arr:addObject(CCCallFuncN:create(removeSelf))	sprite:runAction(CCSequence:create(arr))end