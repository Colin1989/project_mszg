------------------------------------------------------------------------ 作者：lewis-- 日期：2013-03-31-- 描述：角色玩家----------------------------------------------------------------------RoleTotem = class(Role) function RoleTotem:ctor()endfunction RoleTotem:init(gridId, pos, skillId, argsStr)	self.mPosition = pos	self:initConfig()		local monsterid = 3012	local layer = RoleMgr.getConfig("rmc_monster_parent_layer")	local monsterConfig = ModelMonster.getMonsterById(monsterid)	self.mRoleView = ActionSprite.new(-1)	self.mRoleView:init(layer, pos, monsterConfig.icon, gridId)	self:setConfig("role_icon_id", monsterConfig.icon)		--参数解析	local paramTB = SpecialSkill.parseParamer(argsStr)	local stayRound 	= paramTB["round"] or 5	local rate			= paramTB["rate"] or 0	local player_only	= paramTB["player_only"] or 0		self.mConfigTB["tt_player_rate"]			= rate			--配置数据	self.mConfigTB["tt_player_only"]			= player_only	--攻击类别,1为主动		self:setConfig("stay_round", stayRound)		self.mRoleAction = RoleAction.new()     --FIXME CNMGJ	self.mRoleAction:setConfig("action_name", "death_wish")	self.mRoleAction:setConfig("skill_id", skillId)	self.mRoleAction:setConfig("skill_level", 1)end--怪物的行为动作function RoleTotem:getAction()	return self.mRoleActionend--回合计数function RoleTotem:roundStep()	--生存几回合	local stayRound = self:getConfig("stay_round")	if stayRound == -1 then		return	end	stayRound = stayRound - 1	self:setConfig("stay_round", stayRound)	if stayRound > 0 then		return	end		self.mRoleView:onKnockout("normal")	RoleMgr.removeTotem(self)end