------------------------------------------------------------------------ 作者：lewis-- 日期：2013-03-31-- 描述：角色玩家----------------------------------------------------------------------RoleFriend = class(Role)local FriendSprite = class(ActionSprite)--施法状态function FriendSprite:onMagic()	--跳入	local node = self.mMoveNode	node:stopAllActions()	node:setVisible(true)	node:setPosition(ccp(-200, 300))		local arr = CCArray:create()	arr:addObject(CCEaseExponentialIn:create(CCJumpTo:create(0.5, self.mPos, 280, 1)))	arr:addObject(CCDelayTime:create(0.5))	arr:addObject(CCEaseExponentialIn:create(CCJumpTo:create(0.4, ccp(900, 360), 130, 1)))	arr:addObject(CCHide:create())	node:runAction(CCSequence:create(arr))		local sprite = self.mSprite	sprite:stopAllActions()	local arr1 = CCArray:create()	arr1:addObject(CCDelayTime:create(0.5))	arr1:addObject(self.mAttackAni)	sprite:runAction(CCSequence:create(arr1))end function RoleFriend:ctor()	endfunction RoleFriend:init(icon)	local pos = ccp(360, 160)	self.mPosition = pos	self:initConfig()	self:setConfig("role_group_id", 2)	self:setConfig("role_side_id", 0)	--视图	local layer = RoleMgr.getConfig("rmc_player_parent_layer")	local roleConfig = ModelPlayer.getPlayerAttr()	self.mRoleView = FriendSprite.new(1)	self.mRoleView:init(layer, pos, icon, 1)	self.mRoleView.mMoveNode:setVisible(false)		self:setConfig("role_icon_id", icon)		--基础数据	local lv = ModelPlayer.getLevel()--(援军等级为玩家等级）    self:setConfig("role_level",lv)		local roleConfig = ModelPlayer.getPlayerAttr()	self:setConfig("role_type", ModelPlayer.getRoleType())	local attribute = self.mData.mAttribute	attribute:initOriginalAttr(roleConfig)	attribute:initCurrentAttr()	attribute:restoreAttribute()end--动作持续时间function RoleFriend:getDuration(name)	if name == "attack" then		return 0.25	elseif name == "hit" then		return 0.3	elseif name == "magic" then		return 0.75	end	return 0.5end