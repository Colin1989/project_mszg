------------------------------------------------------------------------ 作者：lewis-- 日期：2013-5-23-- 描述：拾取钥匙----------------------------------------------------------------------EffectPickupKey = class(Effect)--构造function EffectPickupKey:ctor()	self.mPosition = ccp(0, 0)end--初始化function EffectPickupKey:init(pos)	self.mPosition = posend--执行function EffectPickupKey:play()	local function flyDone(sender)		sender:removeFromParentAndCleanup(true)		GridMgr.openDoor()		FightDateCache.updateData("fd_key_count", 1)		LayerGameUI.updateKeyCnt()	end		local layer = EffectMgr.getConfig("emc_front_layer")	local sprite = CCSprite:create("key.png")	layer:addChild(sprite, 1)	sprite:setAnchorPoint(ccp(0.5, 0.5))	sprite:setPosition(self.mPosition)		local duration = 0.5	local destPos = GridMgr.getDoorPos()	local act1 = CCMoveTo:create(duration, destPos)	local act2 = CCRotateBy:create(duration, 180)	local arr = CCArray:create()    arr:addObject(CCSpawn:createWithTwoActions(act1, act2))	arr:addObject(CCCallFuncN:create(flyDone))	sprite:runAction(CCSequence:create(arr))end