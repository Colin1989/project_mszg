------------------------------------------------------------------------ 作者：lewis-- 日期：2013-5-23-- 描述：游戏开场特效显示地图名等----------------------------------------------------------------------EffectMapName = class(EffectPlayerCast)--构造function EffectMapName:ctor()end--初始化function EffectMapName:init()endfunction EffectMapName:createMapName()	local label = CCLabelTTF:new()    label:init()    label:autorelease()    label:setFontName("mnse.ttf")    label:setFontSize(66)	label:setAnchorPoint(ccp(0.5, 0.5))	local str = FightConfig.getConfig("fc_battle_map_name")	label:setString(str)	return labelend--执行function EffectMapName:play()	local function exitCB(sender)		sender:removeFromParentAndCleanup(true)		self:over()	end	local parent = EffectMgr.getConfig("emc_front_layer")		--背景遮罩	local mask = self:createMask()	parent:addChild(mask)	local arr = CCArray:create()	arr:addObject(CCDelayTime:create(1.7))	arr:addObject(CCCallFuncN:create(exitCB))	mask:runAction(CCSequence:create(arr))		--图层	local layer = CCLayer:create()	mask:addChild(layer, 1000)	layer:setPosition(ccp(320, 480))		--背景图	local bg = CCSprite:create("effect_game_enter.png")	layer:addChild(bg)	self:runAction(bg)		--过关条件	if FightDateCache.getData("fd_pass_mode") == 2 then		local candition = CCSprite:create("effect_game_enter_candition1.png")		layer:addChild(candition)		candition:setPosition(ccp(0, -85))		self:runAction(candition)	end		--地图名	local label = self:createMapName()	layer:addChild(label)	self:runAction(label)end--执行动作function EffectMapName:runAction(node)	local arr = CCArray:create()	arr:addObject(CCShow:create())	arr:addObject(CCFadeIn:create(0.3))	arr:addObject(CCDelayTime:create(1.3))	arr:addObject(CCFadeOut:create(0.1))	node:runAction(CCSequence:create(arr))	node:setVisible(false)end